(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],{20:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(13),i=n.n(c),r=n(9),s=n(2),o=n(3),l=n(4),u=n(5),d=n(7),j=n(6),b=n(0),f=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={value:"",min:"",sec:""},e.onSubmit=function(t){var n=e.state,a=n.value,c=n.min,i=n.sec,r=e.props.addTask;t.preventDefault(),a.trim()&&r(a,c,i),e.setState({value:"",min:"",sec:""})},e.onInputTextChange=function(t){e.setState({value:t.target.value})},e.onInputMinChange=function(t){e.setState({min:t.target.value}),t.target.value>9999&&e.setState({min:"9999"}),t.target.value<0&&e.setState({min:""})},e.onInputSecChange=function(t){e.setState({sec:t.target.value}),t.target.value>59&&e.setState({sec:"59"}),t.target.value<0&&e.setState({sec:""})},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state,t=e.value,n=e.min,a=e.sec;return Object(b.jsxs)("header",{className:"header",children:[Object(b.jsx)("h1",{children:"todos"}),Object(b.jsxs)("form",{className:"new-todo-form",onSubmit:this.onSubmit,children:[Object(b.jsx)("label",{style:{display:"contents"},children:Object(b.jsx)("input",{className:"new-todo",placeholder:"What needs to be done?",onChange:this.onInputTextChange,value:t,required:!0})}),Object(b.jsx)("label",{style:{display:"contents"},children:Object(b.jsx)("input",{type:"number",className:"new-todo-form__timer",placeholder:"Min",min:"0",max:"9999",onChange:this.onInputMinChange,value:n,required:!0})}),Object(b.jsx)("label",{style:{display:"contents"},children:Object(b.jsx)("input",{type:"number",className:"new-todo-form__timer",placeholder:"Sec",min:"0",max:"59",onChange:this.onInputSecChange,value:a,required:!0})}),Object(b.jsx)("button",{type:"submit","aria-label":"btn",className:"hidden"})]})]})}}]),n}(a.Component),p=f,m=n(14),h=n(12),O=function(e){var t=e.timer,n=Object(a.useState)(t),c=Object(h.a)(n,2),i=c[0],r=c[1],s=Object(a.useState)(!1),o=Object(h.a)(s,2),l=o[0],u=o[1];return Object(a.useEffect)((function(){if(i>0&&l){var e=setTimeout((function(){return r((function(e){return e-1}))}),1e3);return function(){return clearTimeout(e)}}return null}),[i,l]),Object(b.jsxs)("span",{className:"description",children:[Object(b.jsx)("button",{type:"button",className:"icon icon-play","aria-label":"play",onClick:function(){return u(!0)}}),Object(b.jsx)("button",{type:"button",className:"icon icon-pause","aria-label":"pause",onClick:function(){return u(!1)}}),"".concat(Math.floor(i/60),":").concat(Math.floor(i%60))]})},v=function(e){var t=e.id,n=e.description,a=e.time,c=e.deleteTask,i=e.onToggleCompleted,r=e.onEditing,s=e.editing,o=e.active,l=e.editTask,u=e.timer,d=Object(m.a)(a,{includeSeconds:!0}),j="";return o||(j+=" completed"),o&&(j+=" active"),s&&(j+=" editing"),Object(b.jsxs)("li",{className:j,children:[Object(b.jsxs)("div",{className:"view",children:[Object(b.jsx)("input",{id:t,checked:!o,className:"toggle",type:"checkbox",onChange:function(){return i(t)}}),Object(b.jsxs)("label",{htmlFor:t,children:[Object(b.jsx)("span",{className:"title",children:n}),Object(b.jsx)(O,{timer:u}),Object(b.jsx)("span",{className:"description",children:d})]}),Object(b.jsx)("button",{"aria-label":"edit btn",type:"button",className:"icon icon-edit",onClick:function(){return r(t)}}),Object(b.jsx)("button",{"aria-label":"delete btn",type:"button",className:"icon icon-destroy",onClick:function(){return c(t)}})]}),s&&Object(b.jsx)("label",{style:{padding:0},children:Object(b.jsx)("input",{type:"text",className:"edit",defaultValue:n,onKeyDown:function(e){if(13===e.keyCode){var n=e.target.value;n.trim()&&l(t,n),r(t)}else 27===e.keyCode&&r(t)}})})]})},k=function(e){var t=e.tasks,n=e.deleteTask,c=e.onToggleCompleted,i=e.onEditing,r=e.editTask;return Object(b.jsx)("ul",{className:"todo-list",children:t.map((function(e){return Object(a.createElement)(v,Object(s.a)(Object(s.a)({},e),{},{key:e.id,deleteTask:function(e){return n(e)},onToggleCompleted:function(e){return c(e)},onEditing:function(e){return i(e)},editTask:function(e,t){return r(e,t)}}))}))})};k.defaultProps={tasks:[]};var g=k,x=function(e){var t=e.changeFilter,n=e.filterProp;return Object(b.jsxs)("ul",{className:"filters",children:[Object(b.jsx)("li",{children:Object(b.jsx)("button",{type:"button",className:"all"===n?"selected":null,onClick:function(){return t("all")},children:"All"})}),Object(b.jsx)("li",{children:Object(b.jsx)("button",{type:"button",className:"active"===n?"selected":null,onClick:function(){return t("active")},children:"Active"})}),Object(b.jsx)("li",{children:Object(b.jsx)("button",{type:"button",className:"completed"===n?"selected":null,onClick:function(){return t("completed")},children:"Completed"})})]})},y=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).callDeleteForAll=function(){var t=e.props,n=t.tasks,a=t.deleteTask;n.filter((function(e){return!e.active})).map((function(e){return e.id})).forEach((function(e){return a(e)}))},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.leftCount,n=e.changeFilter,a=e.filterProp;return Object(b.jsxs)("footer",{className:"footer",children:[Object(b.jsxs)("span",{className:"todo-count",children:[t," items left"]}),Object(b.jsx)(x,{changeFilter:function(e){return n(e)},filterProp:a}),Object(b.jsx)("button",{type:"button",className:"clear-completed",onClick:this.callDeleteForAll,children:"Clear completed"})]})}}]),n}(a.Component);y.defaultProps={leftCount:0,filterProp:"all"};var C=y,T=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).maxId=100,e.state={tasks:[e.createTask("Completed task","0","5"),e.createTask("Editing task","12","25"),e.createTask("Active task","45","21")],filterProp:"all"},e.changeFilter=function(t){e.setState({filterProp:t})},e.addTask=function(t,n,a){var c=e.createTask(t,n,a);e.setState((function(e){var t=e.tasks;return{tasks:[].concat(Object(o.a)(t),[c])}}))},e.deleteTask=function(t){e.setState((function(e){var n=e.tasks,a=n.findIndex((function(e){return e.id===t}));return{tasks:[].concat(Object(o.a)(n.slice(0,a)),Object(o.a)(n.slice(a+1)))}}))},e.onToggleCompleted=function(t){e.setState((function(n){var a=n.tasks;return{tasks:e.toggleProps(a,t,"active")}}))},e.onEditing=function(t){e.setState((function(n){var a=n.tasks;return{tasks:e.toggleProps(a,t,"editing")}}))},e.editTask=function(t,n){var a=e.state.tasks,c=a.findIndex((function(e){return e.id===t})),i=a[c],r=Object(s.a)(Object(s.a)({},i),{},{description:n}),l=[].concat(Object(o.a)(a.slice(0,c)),[r],Object(o.a)(a.slice(c+1)));e.setState({tasks:l})},e}return Object(u.a)(n,[{key:"toggleProps",value:function(e,t,n){var a=e.findIndex((function(e){return e.id===t})),c=e[a],i=Object(s.a)(Object(s.a)({},c),{},Object(r.a)({},n,!c[n]));return[].concat(Object(o.a)(e.slice(0,a)),[i],Object(o.a)(e.slice(a+1)))}},{key:"createTask",value:function(e,t,n){var a=Date.now();return this.maxId+=1,{description:e,time:a,id:this.maxId,editing:!1,active:!0,timer:60*t+ +n}}},{key:"render",value:function(){var e=this,t=this.state,n=t.tasks,a=t.filterProp,c="all"===a?n:n.filter((function(e){return"completed"===a?!e.active:e.active})),i=n.filter((function(e){return!e.active})).length,r=n.length-i;return Object(b.jsxs)("section",{className:"todoapp",children:[Object(b.jsx)(p,{addTask:this.addTask}),Object(b.jsxs)("section",{className:"main",children:[Object(b.jsx)(g,{tasks:c,deleteTask:function(t){return e.deleteTask(t)},onToggleCompleted:function(t){return e.onToggleCompleted(t)},onEditing:function(t){return e.onEditing(t)},editTask:function(t,n){return e.editTask(t,n)}}),Object(b.jsx)(C,{leftCount:r,filterProp:a,tasks:n,deleteTask:function(t){return e.deleteTask(t)},changeFilter:function(t){return e.changeFilter(t)}})]})]})}}]),n}(a.Component),N=T;n(20);i.a.render(Object(b.jsx)(N,{}),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.74fcc658.chunk.js.map